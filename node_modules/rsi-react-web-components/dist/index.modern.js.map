{"version":3,"file":"index.modern.js","sources":["../src/components/ActionBar.js","../src/components/AppBar.js","../src/components/Avatar.js","../src/components/Button.js","../src/components/BackLink.js","../src/components/ButtonLink.js","../src/components/Card.js","../src/components/CardContent.js","../src/components/CardActions.js","../src/components/DataContext.js","../src/components/Checkbox.js","../src/components/Combobox.js","../src/components/CircularProgress.js","../src/components/Content.js","../src/lib/util.js","../src/components/Date.js","../src/components/Decimal.js","../src/components/DeleteButton.js","../src/components/DownloadReport.js","../src/components/EditButton.js","../src/components/Email.js","../src/components/Label.js","../src/components/Error.js","../src/components/Footer.js","../src/components/Panel.js","../src/components/FormPanel.js","../src/components/Group.js","../src/components/Header.js","../src/components/Image.js","../src/components/Integer.js","../src/components/Item.js","../src/components/LinearProgress.js","../src/components/Link.js","../src/components/LinkIcon.js","../src/components/List.js","../src/components/Loading.js","../src/components/Lookup.js","../src/components/MaskedInput.js","../src/components/Modal.js","../src/components/Mobileno.js","../src/components/MsgBox.js","../src/components/Page.js","../src/components/Password.js","../src/components/PlayButton.js","../src/components/PreviewButton.js","../src/components/PreviewReport.js","../src/components/ProgressButton.js","../src/components/PhoneNo.js","../src/components/Radio.js","../src/components/ReportViewer.js","../src/components/Spacer.js","../src/components/Select.js","../src/components/Subtitle.js","../src/components/Subtitle2.js","../src/components/Stepper.js","../src/components/StopButton.js","../src/components/Switch.js","../src/components/Table.js","../src/components/TableColumn.js","../src/components/Text.js","../src/components/Title.js","../src/components/UploadButton.js","../src/components/ViewButton.js","../src/lib/remote-server-proxy.js","../src/context/StateProvider.js"],"sourcesContent":["import React from \"react\";\nimport { Box } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    marginTop: 50,\n    borderTop: \"solid 1px lightgrey\",\n  },\n  center: {\n    flexDirection: \"column\"\n  }\n}));\n\nconst ActionBar = ({\n  children,\n  disabled = false,\n  center = false,\n  visibleWhen = true,\n  ...rest\n}) => {\n\n  if (!visibleWhen) return null;\n\n  const classes = useStyles();\n  let classNames = `${classes.container}`;\n  if (center !== undefined && center == true) {\n    classNames = `${classNames} ${classes.center}`;\n  }\n\n  return (\n    <Box pt={2} {...rest} className={classNames} disabled>\n      {disabled\n        ? React.Children.map(children, (child) => {\n            return React.cloneElement(child, { disabled: true });\n          })\n        : children}\n    </Box>\n  );\n};\n\nexport default ActionBar;\n","import React from 'react'\nimport MuiAppBar from '@material-ui/core/AppBar'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: '#2c3e50'\n  },\n  container: {\n    padding: '4px 50px'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  toolBar: {\n    paddingLeft: '50px'\n  }\n}))\n\nconst AppBar = (props) => {\n  const classes = useStyles()\n  return (\n    <MuiAppBar\n      variant='outlined'\n      position='static'\n      className={classes.root}\n      style={{ ...props.style }}\n    >\n      {props.children}\n    </MuiAppBar>\n  )\n}\n\nexport default AppBar\n","import React from \"react\";\nimport MuiAvatar from \"@material-ui/core/Avatar\";\n\nconst Avatar = ({src, ...rest}) => {\n  return <MuiAvatar src={src} {...rest} />\n};\n\nexport default Avatar;\n","import React from \"react\";\nimport { Button as MuiButton, CircularProgress } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    textTransform: \"none\"\n  },\n}));\n\n\nconst Button = ({\n  label,\n  caption,\n  action,\n  loading,\n  children,\n  visibleWhen = true,\n  disableWhen = false,\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  const classes = useStyles();\n\n  return (\n    <MuiButton\n      size=\"small\"\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={action}\n      style={{ margin: 2 }}\n      disabled={disableWhen}\n      endIcon={loading && <CircularProgress size={18} color=\"secondary\" {...rest} />}\n      className={classes.button}\n      {...rest}\n    >\n      {label || caption || children}\n    </MuiButton>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\n// import { Button as MuiButton, CircularProgress } from \"@material-ui/core\";\nimport Button from \"./Button\"\n\nconst BackLink = ({\n  label,\n  caption,\n  children,\n  ...rest\n}) => {\n\n  return (\n    <Button size=\"medium\" {...rest} variant=\"text\" >\n      {label || caption || children || \"Back\"}\n    </Button>\n  );\n};\n\nexport default BackLink;\n","import React from \"react\";\nimport { Button as MuiButton } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    textTransform: \"none\"\n  },\n}));\n\n\nconst ButtonLink = ({\n  caption,\n  href,\n  children,\n  visibleWhen = true,\n  disableWhen = false,\n  target=\"_blank\",\n  Icon,\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  const classes = useStyles();\n\n  return (\n    <MuiButton\n      size=\"small\"\n      variant=\"outlined\"\n      color=\"primary\"\n      href={href}\n      style={{ margin: 2 }}\n      disabled={disableWhen}\n      className={classes.button}\n      endIcon={Icon && <Icon />}\n      target={target}\n      {...rest}\n    >\n      {caption || children}\n    </MuiButton>\n  );\n};\n\nexport default ButtonLink;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Card as MuiCard } from \"@material-ui/core\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  root: {\n    marginTop: 10,\n    paddingLeft: 20,\n    paddingRight: 20,\n  },\n  title: {\n    padding: 10,\n  },\n\n});\n\nconst Card = ({ caption, children }) => {\n  const classes = useStyles();\n  return (\n    <MuiCard className={classes.root}>\n      {caption && (\n        <Typography variant=\"h6\" component=\"h3\" className={classes.title}>\n          {caption}\n        </Typography>\n      )}\n      <CardContent>{children}</CardContent>\n    </MuiCard>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport { CardContent as MuiCardContent } from \"@material-ui/core\";\n\nconst CardContent = (props) => {\n  return (\n    <MuiCardContent style={{ alignItems: \"center\" }}>\n      {props.children}\n    </MuiCardContent>\n  );\n};\n\nexport default CardContent;\n","import React from 'react'\nimport { CardActions as MuiCardActions } from '@material-ui/core'\n\nconst CardActions = (props) => {\n  return <MuiCardActions>{props.children}</MuiCardActions>\n}\n\nexport default CardActions\n","import React from \"react\";\nimport _object from \"lodash/object\";\nimport produce from \"immer\";\n\nexport const DataContext = React.createContext();\n\nexport const useDataContext = ({ context = {}, handler, ...rest }) => {\n  const handleChange = (evt, isBooleanValue = false) => {\n    const isBoolean = typeof isBooleanValue === \"boolean\" ? isBooleanValue : false;\n    const { name } = evt.target;\n    let resolvedValue = isBoolean ? evt.target.checked : evt.target.value;\n    const updatedValues = produce(context, draft => {\n      _object.set(draft, name, resolvedValue)\n    })\n    handler(updatedValues);\n  };\n\n  return {\n    context,\n    handleChange,\n    ...rest\n  };\n};\n\nconst getContextValue = (context, name, expr, defaultValue) => {\n  if (expr && typeof expr === \"function\") {\n    return expr(context);\n  } else if (expr && typeof expr === \"string\") {\n    return _object.get(context, `${expr}`) || defaultValue;\n  }\n  return _object.get(context, name) || defaultValue;\n};\n\nexport const getFieldProps = (ctx, props) => {\n  const name = props.id || props.name;\n  const expr = props.expr;\n\n  if (ctx) {\n    const handleChange = props.onChange || ctx.handleChange;\n    const { context } = ctx;\n    const value = getContextValue(context, name, expr, \"\");\n    return { value, onChange: handleChange };\n  } else {\n    const { context, onChange: handleChange } = props;\n    const value = context\n      ? getContextValue(context, name, expr)\n      : props.value || \"\";\n\n    return {\n      value,\n      onChange: (evt, isBooleanValue = false) => {\n        let resolvedValue = isBooleanValue ? evt.target.checked : evt.target.value;\n        handleChange(resolvedValue);\n      }\n    };\n  }\n};\n\nexport const useContext = () => {\n  return React.useContext(DataContext);\n};\n","import React from \"react\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport MuiCheckbox from \"@material-ui/core/Checkbox\";\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nconst Checkbox = ({\n  visibleWhen = true,\n  editable = true,\n  readOnly = false,\n  text,\n  caption,\n  ...rest\n}) => {\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n\n  let disabled = false;\n  if (readOnly || !editable) {\n    disabled = true;\n  }\n\n  const handleChange = (evt) => {\n    fieldProps.onChange(evt, true);\n  };\n\n  return (\n    <FormControlLabel\n      control={\n        <MuiCheckbox\n          checked={typeof(fieldProps.value) === \"string\" ? false : fieldProps.value }\n          disabled={disabled}\n          {...rest}\n          {...fieldProps}\n          onChange={handleChange}\n        />\n      }\n      label={text || caption}\n    />\n  );\n};\n\nexport default Checkbox;\n","import React from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Select from '@material-ui/core/Select';\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    marginTop: 3,\n  },\n}));\n\nconst Combobox = ({\n  editable = true,\n  required=false,\n  items,\n  caption,\n  expr,\n  ...rest\n}) => {\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n  const classes = useStyles();\n\n  return (\n    <FormControl className={classes.formControl} fullWidth disabled={!editable} >\n      <InputLabel required={required} id=\"select-id\">{caption}</InputLabel>\n      <Select\n        labelId=\"select-id\"\n        id=\"select-id\"\n        required={required}\n        {...rest}\n        {...fieldProps}\n      >\n      { items.map(item => {\n          const itemText = (typeof expr === \"function\" ? expr(item) : item.toString());\n          return <MenuItem key={itemText} value={item}>{itemText}</MenuItem>\n        })\n      }\n      </Select>\n      <FormHelperText style={{color: \"red\"}}>{rest.helperText}</FormHelperText>\n    </FormControl>\n  );\n};\n\nexport default Combobox;\n","import React from \"react\";\nimport MuiCircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst CircularProgress = ({ visibleWhen = true, ...rest }) => {\n  if (!visibleWhen) return null;\n  return <MuiCircularProgress {...rest} />;\n};\n\nexport default CircularProgress;\n","import React from \"react\";\nimport { Container } from \"@material-ui/core\";\n\nconst styles = {\n  root: {\n    padding: 0\n  },\n  center: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n};\n\nconst getStyle = (props) => {\n  const localStyle = {};\n  if (props.width) localStyle.width = props.width;\n  const centerStyle = props.center ? styles.center : {};\n  return { ...styles.root, ...centerStyle, ...localStyle, ...props.style };\n};\n\nconst Content = ({ children, center = false, width, ...rest }) => {\n  return (\n    <Container {...rest} style={getStyle({ center, width })}>\n      {children}\n    </Container>\n  );\n};\n\nexport default Content;\n","import dayjs from \"dayjs\";\nimport padStart from \"lodash/padStart\";\n\nexport const isVisible = (visibleWhen) => {\n  if (visibleWhen == undefined) return true;\n  return visibleWhen;\n};\n\nexport const isEditable = (editable) => {\n  if (editable == undefined) return true;\n  return editable;\n};\n\nexport const isHidden = (visibleWhen) => {\n  return !isVisible(visibleWhen);\n};\n\nexport const isDisabled = (disableWhen) => {\n  if (disableWhen == undefined) return false;\n  return disableWhen;\n};\n\nexport function formatNumber(num = 0) {\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\n}\n\nexport function currencyFormat(num, defaultValue = 0) {\n  if (!num) return defaultValue;\n  const val = typeof num === \"string\" ? Number(num) : num;\n  return val.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\n}\n\nexport const groupBy = (list, key) => {\n  return list.reduce((rv, item) => {\n    (rv[item[key]] = rv[item[key]] || []).push(item);\n    return rv;\n  }, {});\n};\n\nexport const getUrlParameter = (location, key) => {\n  const params = new URLSearchParams(location.search);\n  return params.get(key);\n};\n\nexport const getDuration = (from, to, unit = \"d\") => {\n  if (!from) return \"\";\n  const start = from ? dayjs(from) : dayjs(new Date());\n  const end = to ? dayjs(to) : dayjs(new Date());\n  return end.diff(start, unit);\n};\n\nexport const integerRangeToArray = (from, to) => {\n  const range = [];\n  for (let i = from; i <= to; i++) {\n    range.push(i);\n  }\n  return range;\n};\n\nexport const getCurrentYear = () => {\n  const currDate = new Date();\n  return currDate.getFullYear();\n};\n\nexport const padLeft = (str, len, padChar = \"0\") => {\n  return padStart(str, len, padChar);\n};\n\nexport const dateAdd = (duration, unit = \"d\") => {\n  dayjs().add(duration, unit);\n  return dayjs.toISOString();\n};\n\nexport const formatDate = (dt, pattern = \"MMMM D, YYYY\") => {\n  return dayjs(dt).format(pattern);\n};\n\nexport const isDateBefore = (dt, refDate) => {\n  return dayjs(dt).isBefore(refDate);\n};\n\nexport const isDateAfter = (dt, refDate) => {\n  if (refDate) {\n    return dayjs(dt).isAfter(refDate);\n  }\n  return dayjs(dayjs(dt)).isAfter();\n};\n\nexport const randomInt = (len = 6) => {\n  return Math.floor(Math.random() * len) + 1;\n};\n\nexport const hasErrors = (errors) => {\n  return Object.keys(errors).length > 0;\n};\n\n\nexport const makeId = (length = 10) => {\n  let result           = '';\n  const characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for ( let i = 0; i < length; i++ ) {\n     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useContext, getFieldProps } from \"./DataContext\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { padLeft } from \"../lib/util\"\n\nconst CustomDate = ({\n  visibleWhen = true,\n  caption,\n  label,\n  editable=true,\n  readOnly=false,\n  disabled=false,\n  autoOk=true,\n  helperText=\"mm/dd/yyy\",\n  variant=\"standard\",\n  size=\"small\",\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n  const { value, onChange, ...restFieldProps} = fieldProps;\n\n  const [localValue, setLocalValue] = useState(null);\n\n  useEffect(() => {\n    if (!localValue && value !== null && value.toString().length > 0) {\n      let convertedValue;\n      if (value.indexOf(\" \") > 0) {\n        convertedValue = new Date(value.split(\" \")[0] + \"T00:00:00+08:00\");\n      } else {\n        convertedValue = new Date(`${value}T00:00:00+08:00`);\n      }\n      setLocalValue(convertedValue);\n    }\n  }, [value])\n\n  const changeHandler = (dt) => {\n    setLocalValue(dt);\n    let val = null;\n    if (dt && !/invalid/i.test(dt.toString())) {\n      const sdt = dt.toLocaleDateString();\n      const tokens = sdt.split(\"/\")\n      tokens[0] = padLeft(tokens[0], 2);\n      tokens[1] = padLeft(tokens[1], 2);\n      val = `${tokens[2]}-${tokens[0]}-${tokens[1]}`\n    }\n    onChange({target: {name: rest.name, value: val}})\n  }\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        disableToolbar\n        format=\"MM/dd/yyyy\"\n        variant=\"inline\"\n        margin=\"normal\"\n        inputVariant={variant}\n        size={size}\n        label={caption || label}\n        helperText={helperText}\n        fullWidth={true}\n        autoOk={autoOk}\n        {...rest}\n        {...restFieldProps}\n        value={localValue}\n        onChange={changeHandler}\n        disabled={!editable || readOnly || disabled}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default CustomDate;\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport NumberFormat from 'react-number-format';\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nfunction NumberFormatCustom(props) {\n  const { inputRef, onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator\n      isNumericString\n      decimalScale={2}\n      fixedDecimalScale={true}\n      readOnly={!props.editable || props.readOnly}\n      {...other}\n    />\n  );\n}\n\n\nconst Decimal = ({\n  label,\n  caption,\n  editable=true,\n  readOnly=false,\n  textAlign=\"right\",\n  ...rest\n}) => {\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n\n  return (\n    <TextField\n      label={label || caption}\n      autoComplete=\"off\"\n      readOnly={!editable || readOnly}\n      {...rest}\n      {...fieldProps}\n      InputProps={{\n        inputComponent: NumberFormatCustom,\n      }}\n      inputProps={{style: {textAlign}}}\n    />\n  )\n};\n\nexport default Decimal;\n","import React from \"react\";\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst DeleteButton = ({\n  action,\n  visibleWhen = true,\n  disableWhen = false,\n  iconSize = \"small\",\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <IconButton\n      onClick={action}\n      color=\"secondary\"\n      aria-label=\"delete\"\n      disabled={disableWhen}\n      {...rest}\n    >\n      <DeleteIcon fontSize={iconSize} />\n    </IconButton>\n  );\n};\n\nexport default DeleteButton;\n","import React from \"react\";\nimport ButtonLink from \"./ButtonLink\";\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\n\nconst DownloadReport = ({\n  caption = \"Download\",\n  href,\n  visibleWhen = true,\n  Icon=CloudDownloadIcon\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <ButtonLink\n      caption={caption}\n      href={href}\n      Icon={Icon}\n    />\n  );\n};\n\nexport default DownloadReport;\n","import React from \"react\";\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst EditButton = ({\n  action,\n  visibleWhen = true,\n  disableWhen = false,\n  iconSize = \"small\",\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <IconButton\n      onClick={action}\n      color=\"primary\"\n      aria-label=\"edit\"\n      disabled={disableWhen}\n      {...rest}\n    >\n      <EditIcon fontSize={iconSize} />\n    </IconButton>\n  );\n};\n\nexport default EditButton;\n","import React from 'react'\nimport { TextField as MuiTextField } from '@material-ui/core'\nimport { useContext, getFieldProps } from './DataContext'\n\nconst Email = ({label, caption, ...rest}) => {\n  const ctx = useContext()\n  const fieldProps = getFieldProps(ctx, rest)\n\n  const onChangeHandler = (e) => {\n    const {name, value} = e.target;\n    fieldProps.onChange({target: {name, value: value.toLowerCase()}})\n  }\n\n  return (\n    <MuiTextField\n      label={label || caption || 'Email Address'}\n      fullWidth\n      autoComplete=\"off\"\n      {...rest}\n      {...fieldProps}\n      type='email'\n      onChange={onChangeHandler}\n    />\n  )\n}\n\nexport default Email\n","import React from \"react\";\nimport { useContext, getFieldProps } from \"./DataContext\";\nimport _ from \"lodash/object\";\n\n\nconst Label = ({ caption, context, expr, exprValue, children, blur=false, ...rest }) => {\n  let value = exprValue || children;\n  const ctx = useContext();\n  if (context && expr) {\n    value = typeof expr === \"function\" ? expr(context) : _.get(context, expr);\n  } else if (ctx) {\n    const fieldProps = getFieldProps(ctx, {...rest, name: expr});\n    value = fieldProps.value;\n  }\n\n  const blurStyle = blur ? styles.blur : {}\n\n  return (\n    <div style={{ ...styles.wrapper, ...rest.style, ...blurStyle }}>\n      {caption && (\n        <label style={{ ...styles.caption, ...rest.captionStyle }}>\n          {caption}\n        </label>\n      )}\n      <label style={{ ...styles.label, ...rest.labelStyle }}>\n        {value ? value.toString() : children}\n      </label>\n    </div>\n  );\n};\n\nconst styles = {\n  wrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    paddingTop: 5,\n    paddingBottom: 5\n  },\n  caption: {\n    fontWeight: \"800\",\n    fontSize: 14,\n    width: 200\n  },\n  label: {\n    fontSize: \"14px\"\n  },\n  blur: {\n    filter: \"blur(3px)\",\n    \"-webkit\": \"blur(3px)\",\n  }\n};\n\nexport default Label;\n","import React from \"react\";\nimport Label from \"./Label\";\n\nconst Error = ({ msg }) => {\n  if (!msg) return null;\n  return <Label style={{ color: \"red\" }}>{msg}</Label>;\n};\n\nexport default Error;\n","import React from 'react'\nimport { Box as MuiBox } from '@material-ui/core'\n\nconst style = {\n  backgroundColor: '#ecf0f1',\n  borderTop: '3px solid #2c3e50',\n  textAlign: 'center',\n  padding: '10px',\n  position: 'fixed',\n  left: '0',\n  bottom: '0',\n  width: '100%'\n}\n\nconst Footer = ({ children }) => {\n  return <MuiBox style={style}>{children}</MuiBox>\n}\n\nexport default Footer\n","import React from \"react\";\n\nconst getUserStyle = ({\n  width,\n  center = false,\n  row = false\n}) => {\n  let style = {};\n  if (width) {\n    style.width = width;\n  }\n  if (row) {\n    style.display = \"flex\";\n    style.flexDirection = \"row\";\n    style.alignItems = \"center\";\n  }\n  if (center) {\n    style = {...style, ...styles.center};\n  }\n  return style;\n};\n\nconst Panel = ({\n  children,\n  visibleWhen = true,\n  row = false,\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  const userStyle = getUserStyle({...rest, row});\n  return (\n    <div style={{ ...styles.panel, ...userStyle, ...rest.style }} {...rest}>\n      {children}\n    </div>\n  );\n};\n\nconst styles = {\n  panel: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  center: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n};\n\nexport default Panel;\n","import React from \"react\";\nimport { DataContext, useDataContext } from \"./DataContext\";\nimport Panel from \"./Panel\";\n\nconst FormPanel = ({ children, visibleWhen = true, handler, ...rest }) => {\n  if (!visibleWhen) return null;\n\n  const dataCtx = useDataContext({ ...rest, handler });\n  return (\n    <DataContext.Provider value={dataCtx}>\n      <Panel {...rest}>\n        {typeof children === \"function\" ? children(dataCtx) : children}\n      </Panel>\n    </DataContext.Provider>\n  );\n};\n\nexport default FormPanel;\n","import React from \"react\";\nimport { FormGroup } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: { flexWrap: \"flex\" }\n}));\nconst Group = ({ children, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <FormGroup className={classes.root} {...rest}>\n      {children}\n    </FormGroup>\n  );\n};\n\nexport default Group;\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: '#ecf0f1'\n  },\n  container: {\n    padding: '4px 50px'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  }\n}))\n\nexport default function Header({ children }) {\n  const classes = useStyles()\n  return (\n    <AppBar variant='outlined' position='static' className={classes.root}>\n      {children}\n    </AppBar>\n  )\n}\n","import React from \"react\";\n\nconst Image = (props) => {\n  return <img {...props} />;\n};\n\nexport default Image;\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport NumberFormat from 'react-number-format';\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nfunction NumberFormatCustom(props) {\n  const { inputRef, onChange, thousandSeparator=true, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={thousandSeparator}\n      isNumericString\n      decimalScale={0}\n    />\n  );\n}\n\nfunction NumberFormatCustom2(props) {\n  const { inputRef, onChange, thousandSeparator=false, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={thousandSeparator}\n      isNumericString\n      decimalScale={0}\n    />\n  );\n}\n\nconst Integer = ({label, caption, thousandSeparator=true, size=\"small\", ...rest}) => {\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n\n  return (\n    <TextField\n      label={label || caption}\n      size={size}\n      autoComplete=\"off\"\n      {...rest}\n      {...fieldProps}\n      InputProps={{\n        inputComponent: thousandSeparator ? NumberFormatCustom : NumberFormatCustom2,\n      }}\n    />\n  )\n};\n\nexport default Integer;\n","import React from \"react\";\n\nconst Item = ({ caption, value }) => {\n  return (\n    <div>\n      <label>{caption}</label>\n      <label>{value}</label>\n    </div>\n  );\n};\n\nexport default Item;\n","import React from \"react\";\nimport MuiCircularProgress from \"@material-ui/core/LinearProgress\";\n\nconst LinearProgress = ({ visibleWhen = true, ...rest }) => {\n  if (!visibleWhen) return null;\n  return <MuiCircularProgress {...rest} />;\n};\n\nexport default LinearProgress;\n","import React from 'react'\nimport { Link as MuiLink } from '@material-ui/core'\n\nconst Link = ({ caption, exprValue, visibleWhen = true, children, ...rest }) => {\n  if (!visibleWhen) return null\n  return (\n    <MuiLink variant='body2' {...rest}>\n      {caption || children}\n    </MuiLink>\n  )\n}\n\nexport default Link\n","import React from \"react\";\nimport PageViewIcon from \"@material-ui/icons/Pageview\";\n\nconst LinkIcon = ({\n  title,\n  href,\n  target=\"_blank\",\n  style={},\n  astyle={},\n  color=\"green\",\n  width=0,\n  Icon=PageViewIcon\n}) => {\n\n  if (width > 0) {\n    style.width = width;\n  }\n\n  return (\n    <div style={{...styles.row, ...style}}>\n      {title && <label style={styles.title}>{title}</label>}\n      <a\n        href={href}\n        target={target}\n        astyle={{...astyle}}\n      >\n        <Icon style={{color: color}} />\n      </a>\n    </div>\n  );\n};\n\nconst styles = {\n  row: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: \"space-between\",\n    margin: 1\n  },\n  title: {\n    marginRight: 10,\n    width: \"100%\",\n  }\n}\n\n\nexport default LinkIcon;\n","import React from \"react\";\nimport { makeId } from \"../lib/util\";\n\nconst getNewChildProps = (item, child, rest) => {\n  const newProps = { ...rest };\n  if (child.props) {\n    const { expr } = child.props;\n    if (expr) {\n      newProps.exprValue = item[expr].toString();\n    }\n  }\n  return newProps;\n};\n\nconst buildChildren = (item, props) => {\n  const newChildren = [];\n  if (props.children) {\n    const { children, ...rest } = props;\n    React.Children.forEach(children, (child, idx) => {\n      if (typeof child === \"function\") {\n        newChildren.push(child({ ...rest, item }));\n      } else {\n        const newProps = getNewChildProps(item, child, rest);\n        const childrenList = buildChildren(item, child.props);\n        newProps.key = makeId();\n        const newChild = React.cloneElement(child, newProps, childrenList);\n        newChildren.push(newChild);\n      }\n    });\n  }\n  return newChildren;\n};\n\nconst List = (props) => {\n  const { items, children, ...rest } = props;\n  const newChildren = [];\n  items.forEach((item) => {\n    if (typeof children === \"function\") {\n      newChildren.push(children({ ...rest, item }));\n    } else {\n      newChildren.push(buildChildren(item, props));\n    }\n  });\n  return <div style={{ ...props.style }}>{newChildren}</div>;\n};\n\nexport default List;\n","import React from \"react\";\nimport CircularProgress from \"./CircularProgress\";\n\nconst Loading = ({ visibleWhen = true, showMessage=true, ...rest }) => {\n  if (!visibleWhen) return null;\n\n  const msg = rest.msg || \"Processing...\";\n  return (\n    <div style={styles.container}>\n      <div style={styles.progress}>\n        <CircularProgress size={16} color=\"secondary\" {...rest} />\n      </div>\n      {showMessage &&\n        <div style={styles.msg}>{msg}</div>\n      }\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 5,\n    marginBottom: 5\n  },\n  progress: {\n    paddingRight: 10\n  },\n  msg: {\n    color: \"#f50057\"\n  }\n};\n\nexport default Loading;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport _object from \"lodash/object\";\n\nimport ActionBar from \"./ActionBar\";\nimport Button from \"./Button\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  margin: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3),\n  },\n  textField: {\n    width: '25ch',\n  },\n}));\n\nconst Lookup = ({\n  caption,\n  visibleWhen = true,\n  editable = true,\n  readOnly = false,\n  containerStyle,\n  children,\n  onSelect,\n  query,\n  setQuery,\n  searchFieldTitle,\n  searchField,\n  hideSearchText=false,\n  enableSelect=true,\n  ...rest\n}) => {\n\n  if (!visibleWhen) return null;\n\n  const classes = useStyles();\n  const [searchText, setSearchText] = useState();\n  const [open, setOpen] = useState(false);\n\n  const openLookupPage = () => {\n    if (searchField) {\n      const updatedQuery =  _object.set(query, searchField, searchText );\n      setQuery(updatedQuery);\n    }\n    setOpen(true);\n  }\n\n  const onCancel = () => {\n    setOpen(false);\n  }\n\n  const onAccept = () => {\n    const pass = onSelect();\n    if (pass) {\n      setOpen(false);\n    }\n  }\n\n  const handleChange = (evt) => {\n    setSearchText(evt.target.value);\n  }\n\n  return (\n    <React.Fragment>\n    {hideSearchText ? (\n      <IconButton onClick={openLookupPage}>\n        <SearchIcon />\n      </IconButton>\n    )\n      : (\n        <TextField\n          className={classes.margin}\n          label={caption}\n          value={searchText}\n          onChange={handleChange}\n          variant=\"outlined\"\n          size=\"small\"\n          helperText={searchFieldTitle}\n          autoFocus={true}\n          {...rest}\n          InputProps={{\n            readOnly: readOnly || !editable,\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={openLookupPage}>\n                  <SearchIcon />\n                </IconButton>\n              </InputAdornment>\n            )\n          }}\n        />\n    )}\n\n      <Dialog open={open}>\n        <DialogTitle>{caption}</DialogTitle>\n        <DialogContent>\n          {children}\n          <ActionBar>\n            <Button variant=\"text\" caption=\"Cancel\" onClick={onCancel} />\n            <Button caption=\"Select\" onClick={onAccept} disableWhen={!enableSelect}/>\n          </ActionBar>\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n};\n\nexport default Lookup;\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ReactMaskedInput from 'react-text-mask';\nimport { useContext, getFieldProps } from './DataContext'\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    marginTop: 3,\n  },\n}));\n\nfunction Mask({\n  inputRef,\n  ...other\n}) {\n  return (\n    <ReactMaskedInput\n      ref={(ref) => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      guide={true}\n      {...other}\n    />\n  );\n}\n\nconst padLeft = (value, padLength, padChar) => {\n  let padding = \"\";\n  while(padLength >0) {\n    padding += padChar;\n    padLength--;\n  }\n  return padding+value;\n}\n\nconst MaskedInput = ({\n  label,\n  caption,\n  mask=[/\\d/,/\\d/,/\\d/,/\\d/,/\\d/,/\\d/,/\\d/],\n  len=7,\n  placeholderChar=\" \",\n  showMask=false,\n  required=false,\n  autoFocus,\n  ...rest\n}) => {\n  const ctx = useContext()\n  const fieldProps = getFieldProps(ctx, rest)\n\n  const classes = useStyles();\n\n  const onBlur = (evt) => {\n    let {name, value} = evt.target;\n    let unmaskedValue = value.replace(new RegExp(placeholderChar, \"gi\"), \"\");;\n    mask.forEach(msk => {\n      if (typeof msk === \"string\") {\n        unmaskedValue = unmaskedValue.replace(new RegExp(msk, \"gi\"), \"\");\n      }\n    })\n    let newValue = unmaskedValue;\n    if (unmaskedValue.trim().length > 0) {\n      newValue = padLeft(unmaskedValue, len - unmaskedValue.length, \"0\");\n    }\n    fieldProps.onChange({target: {name, value: newValue}})\n  }\n\n  return (\n    <FormControl className={classes.formControl} fullWidth>\n      <InputLabel required={required} htmlFor=\"formatted-text-mask\">{label || caption}</InputLabel>\n      <Input\n        id=\"formatted-text-mask\"\n        required={required}\n        onBlur={onBlur}\n        mask={mask}\n        {...rest}\n        {...fieldProps}\n        inputComponent={Mask}\n        inputProps={{mask, showMask, placeholderChar, autoFocus}}\n      />\n    </FormControl>\n  )\n}\n\nexport default MaskedInput\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport ActionBar from \"./ActionBar\";\nimport Button from \"./Button\";\n\nconst Modal = ({ caption, children, open, onAccept, onCancel, showActions=true }) => {\n  return (\n    <Dialog open={open}>\n      <DialogTitle>{caption}</DialogTitle>\n      <DialogContent>\n        {children}\n        {showActions &&\n          <ActionBar>\n            <Button variant=\"text\" caption=\"Cancel\" onClick={onCancel} />\n            <Button caption=\"OK\" onClick={onAccept} />\n          </ActionBar>\n        }\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default Modal;\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MaskedInput from 'react-text-mask';\nimport { useContext, getFieldProps } from './DataContext'\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    marginTop: 3,\n  },\n}));\n\nfunction MobilenoMask(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      ref={(ref) => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      mask={['(', /\\d/, /\\d/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n      placeholderChar={'\\u2000'}\n      {...other}\n    />\n  );\n}\n\n\nconst Mobileno = ({label, caption, required=false, ...rest}) => {\n  const ctx = useContext()\n  const fieldProps = getFieldProps(ctx, rest)\n\n  const classes = useStyles();\n\n  return (\n    <FormControl className={classes.formControl} fullWidth>\n      <InputLabel required={required} htmlFor=\"formatted-text-mask-input\">{label || caption || \"Mobile No.\"}</InputLabel>\n      <Input\n        required={required}\n        {...rest}\n        {...fieldProps}\n        id=\"formatted-text-mask-input\"\n        inputComponent={MobilenoMask }\n      />\n    </FormControl>\n  )\n}\n\nexport default Mobileno\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"./Button\";\n\nconst MsgBox = ({ open, type = \"alert\", msg, acceptCaption=\"OK\", onAccept, onCancel, children, ...rest }) => {\n  const title = rest.title || (type === \"alert\" ? \"Information\" : \"Confirmation\")\n  return (\n    <Dialog open={open}>\n      {title && <DialogTitle>{title}</DialogTitle>}\n      <DialogContent>\n        <DialogContentText>{msg}</DialogContentText>\n        {children}\n      </DialogContent>\n      <DialogActions>\n        {type !== \"alert\" && (\n          <Button variant=\"text\" caption=\"Cancel\" onClick={onCancel} />\n        )}\n        <Button caption={acceptCaption} onClick={onAccept} />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default MsgBox;\n","import React from \"react\";\nimport styles from \"./Page.module.css\";\n\nconst getChildren = ({ children }) => {\n  const comps = {\n    header: null,\n    left: null,\n    center: null,\n    right: null,\n    footer: null,\n  };\n  React.Children.forEach(children, (child) => {\n    if (child) {\n      let target = child.props.target || \"center\";\n      if (!comps[target]) comps[target] = [];\n      comps[target].push(child);\n    }\n  });\n  return comps;\n};\n\nconst Page = (props) => {\n  const { left, center, right } = getChildren(props);\n  return (\n    <div className={styles.template}>\n      <div className={styles.content}>\n        <div className={styles.panel}>\n          <aside className={`${styles.aside} ${styles.aside_left}`}>\n            <div style={{position: \"fixed\"}}>{left}</div>\n          </aside>\n          <div className={styles.main}>\n          {center}\n          </div>\n          <aside className={`${styles.aside} ${styles.aside_right}`}>{right}</aside>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n","import React from 'react'\nimport { TextField } from '@material-ui/core'\nimport { useContext, getFieldProps } from './DataContext'\n\nconst Password = (props) => {\n  const ctx = useContext()\n  const fieldProps = getFieldProps(ctx, props)\n\n  return (\n    <TextField\n      label={props.label || props.caption || 'Password'}\n      fullWidth\n      {...props}\n      {...fieldProps}\n      type='password'\n    />\n  )\n}\n\nexport default Password\n","import React from \"react\";\nimport IconButton from '@material-ui/core/IconButton';\nimport PlayCircleFilledWhiteIcon from '@material-ui/icons/PlayCircleFilledWhite';\n\nconst PlayButton = ({\n  action,\n  visibleWhen = true,\n  disableWhen = false,\n  iconSize = \"small\",\n  color=\"green\",\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <IconButton\n      onClick={action}\n      aria-label=\"play button\"\n      disabled={disableWhen}\n      {...rest}\n    >\n      <PlayCircleFilledWhiteIcon fontSize={iconSize} htmlColor={color} />\n    </IconButton>\n  );\n};\n\nexport default PlayButton;\n","import React from \"react\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ViewIcon from '@material-ui/icons/ViewModule';\n\nconst PreviewButton = ({\n  action,\n  visibleWhen = true,\n  disableWhen = false,\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <IconButton\n      onClick={action}\n      color=\"primary\"\n      aria-label=\"edit\"\n      disabled={disableWhen}\n      {...rest}\n    >\n      <ViewIcon />\n    </IconButton>\n  );\n};\n\nexport default PreviewButton;\n","import React from \"react\";\nimport ButtonLink from \"./ButtonLink\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PageviewIcon from \"@material-ui/icons/Pageview\";\n\nconst PreviewReport = ({\n  caption = \"Preview\",\n  href,\n  visibleWhen = true,\n  Icon = PageviewIcon,\n  target=\"_blank\",\n}) => {\n  if (!visibleWhen) return null;\n\n  if (caption) {\n    return <ButtonLink caption={caption} href={href} Icon={Icon} />;\n  } else {\n    return (\n      <IconButton size=\"small\" href={href} color=\"primary\" aria-label=\"Preview Report\" target={target}>\n        <PageviewIcon />\n      </IconButton>\n    );\n  }\n};\n\nexport default PreviewReport;\n","import React from 'react'\nimport { Button as MuiButton, CircularProgress } from '@material-ui/core'\nimport { isVisible } from '../lib/util'\n\nconst ProgressButton = ({\n  label,\n  caption,\n  loading = false,\n  visibleWhen = false,\n  children,\n  ...rest\n}) => {\n  if (!visibleWhen) return null\n\n  return (\n    <MuiButton size='small' variant='contained' color='primary' {...rest}>\n      {label || caption || children} &nbsp;\n      {loading && <CircularProgress size={18} color='secondary' {...rest} />}\n    </MuiButton>\n  )\n}\n\nexport default ProgressButton\n","import React from 'react'\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MaskedInput from 'react-text-mask';\nimport { useContext, getFieldProps } from './DataContext'\n\nfunction PhoneNoMask(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      ref={(ref) => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      mask={['(', /\\d/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n      placeholderChar={'\\u2000'}\n      {...other}\n    />\n  );\n}\n\n\nconst PhoneNo = ({label, caption, ...rest}) => {\n  const ctx = useContext()\n  const fieldProps = getFieldProps(ctx, rest)\n\n  return (\n    <FormControl>\n      <InputLabel htmlFor=\"formatted-text-mask-input\">{label || caption || \"Phone No.\"}</InputLabel>\n      <Input\n        {...rest}\n        {...fieldProps}\n        id=\"formatted-text-mask-input\"\n        inputComponent={PhoneNoMask }\n      />\n    </FormControl>\n  )\n}\n\nexport default PhoneNo\n","import React, { useState } from \"react\";\nimport MuiRadio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Panel from \"./Panel\"\n\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nconst CustomItem = ({item, Control}) => {\n  return (\n    <div style={styles.customItemContainer}>\n      <MuiRadio value={item.objid} />\n      <Control item={item} />\n    </div>\n  )\n}\n\nconst Radio = ({\n  children,\n  caption,\n  readOnly = false,\n  editable = true,\n  list,\n  Control,\n  ...rest\n}) => {\n\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n\n  const disabled = readOnly || !editable;\n\n  let items;\n\n  if (list) {\n    items = list.map(item => {\n      if (Control) {\n        return (<CustomItem item={item} Control={Control}/>);\n      }\n      return (\n        <FormControlLabel\n          value={item.objid}\n          control={<MuiRadio />}\n          label={item.caption || item.title}\n          disabled={disabled}\n        />\n      );\n    });\n  } else {\n    items = React.Children.map(children, (child) => {\n      const { readOnly = false, editable = true, ...rest} = child.props;\n      return (\n        <FormControlLabel\n          value={child.props.value}\n          control={<MuiRadio />}\n          label={child.props.caption}\n          disabled={disabled || readOnly || !editable}\n          {...rest}\n        />\n      );\n    });\n\n  }\n\n\n  const handleChange = (evt, value) => {\n    fieldProps.onChange({target: {name: rest.name, value}});\n  }\n\n  return (\n    <FormControl component=\"fieldset\">\n      <RadioGroup {...rest} value={fieldProps.value} onChange={handleChange} style={{display: \"flex\"}} >\n        {items}\n      </RadioGroup>\n    </FormControl>\n  );\n};\n\n\nconst styles = {\n  customItemContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"flex-start\",\n    border: \"1px solid #aaa\",\n  }\n}\n\nexport default Radio;\n","import React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport Button from \"./Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n//item: title, icon, href\n\nModal.setAppElement('#root')\n\nconst ReportViewer = ({\n  title,\n  items,\n  open,\n  style,\n  onClose,\n  afterOpen=() => {}\n}) => {\n  const [href, setHref] = useState();\n\n  const onSelectItem = (href) => {\n    setHref(href);\n  }\n\n  return (\n    <Modal isOpen={open} onAfterOpen={afterOpen} style={style}>\n      <div style={styles.container}>\n        <h2>{title}</h2>\n        <Button caption=\"Close\" action={onClose} />\n        <div style={styles.viewerContainer}>\n          <div style={styles.itemContainer}>\n            {items.map((item,idx) => {\n              const Icon = item.Icon;\n              return (\n                <div style={styles.item} key={idx} onClick={() => onSelectItem(item.href)}>\n                  <Icon style={{ color: \"green\", fontSize: 32 }} />\n                  <label style={styles.itemTitle}>{item.title}</label>\n                </div>\n              )\n            })}\n          </div>\n          <div style={styles.viewer}>\n              {href &&\n                <iframe type=\"text/html\" src={href} style={styles.frame} />\n              }\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nconst styles ={\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: \"yellow\",\n  },\n  viewerContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid #aaa\",\n  },\n  itemContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: 5,\n    border: \"1px solid #aaa\",\n    width: 100,\n  },\n  item: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: 5,\n    margin: 5,\n    width: \"90%\",\n    cursor: \"pointer\",\n  },\n  itemTitle: {\n    fontSize: 10,\n  },\n  viewer: {\n    display: \"flex\",\n    flex: 1,\n  },\n  frame: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n\n\n}\n\nexport default ReportViewer;\n","import React from 'react'\n\nconst Spacer = ({height, children}) => {\n  const styles = {\n    spacer: {\n      height: height || 20\n    }\n  }\n\n  return <div style={styles.spacer}>{children}</div>\n}\n\nexport default Spacer\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MuiSelect from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport _object from \"lodash/object\";\nimport { makeId } from \"../lib/util\";\n\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    width: \"100%\"\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nconst getChildren = (items, expr) => {\n  return items.map((item) => {\n    let caption;\n    if (typeof expr === \"function\") {\n      caption = expr(item);\n    }\n    if (typeof expr === \"string\" && typeof item === \"object\") {\n      caption = _object.get(item, expr);\n    }\n    return (\n      <MenuItem key={makeId()} value={item}>\n        {caption || item}\n      </MenuItem>\n    );\n  });\n};\n\nconst Select = (props) => {\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, props);\n  const { caption, items, name, expr, ...rest } = props;\n  const classes = useStyles();\n  const children = getChildren(items, expr);\n  if (expr) {\n    fieldProps.renderValue = (item) => item[expr];\n  }\n\n  return (\n    <FormControl className={classes.formControl}>\n      <InputLabel>{caption}</InputLabel>\n      <MuiSelect {...rest} {...fieldProps} name={name}>\n        {children}\n      </MuiSelect>\n    </FormControl>\n  );\n};\n\nexport default Select;\n","import React from 'react'\nimport Label from './Label'\n\nconst Subtitle = ({ caption, title, children, style }) => {\n  return <Label labelStyle={{...styles.title, ...style}}>{caption || title || children}</Label>\n}\n\nconst styles = {\n  title: {\n    paddingTop: '10px',\n    color: '#27ae60',\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n}\n\nexport default Subtitle\n","import React from 'react'\nimport Label from './Label'\n\nconst Subtitle2 = ({ caption, title, children }) => {\n  return <Label labelStyle={styles.title}>{caption || title || children}</Label>\n}\n\nconst styles = {\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    opacity: 0.85\n  }\n}\n\nexport default Subtitle2\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MuiStepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepButton from '@material-ui/core/StepButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: \"transparent\",\n  },\n  selectedStep: {\n    color: \"#27ae60 !important\",\n  },\n}));\n\nconst Stepper = ({\n  orientation: userOrientation,\n  completedStep,\n  handleStep,\n  steps,\n  activeStep\n}) => {\n\n  const classes = useStyles();\n  const orientation = userOrientation || \"vertical\";\n\n  const actualStep = completedStep > 0 ? completedStep - 1 : activeStep;\n  return (\n    <MuiStepper className={classes.root} activeStep={actualStep} orientation={orientation}>\n    {steps.map((step, index) => {\n      if (step.caption) {\n        const stepProps = {};\n        const labelProps = {};\n        const selectedStepStyle = {};\n        if (index === activeStep) {\n          selectedStepStyle.completed = classes.selectedStep\n        }\n\n        let stepItems = <StepLabel {...labelProps}>{step.caption}</StepLabel>;\n\n        if (handleStep && index <= completedStep) {\n          stepItems = (\n            <StepButton onClick={() => handleStep(index)} completed={index <= actualStep}>\n              <StepLabel classes={selectedStepStyle} StepIconProps={{classes: selectedStepStyle}}\n              {...labelProps}>{step.caption}</StepLabel>\n            </StepButton>\n          );\n        }\n\n        return (\n          <Step key={step.caption} {...stepProps}>\n            {stepItems}\n          </Step>\n        );\n      }\n    })}\n  </MuiStepper>\n  )\n}\n\nexport default Stepper;\n","import React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport StopIcon from \"@material-ui/icons/Stop\";\n\nconst StopButton = ({\n  action,\n  visibleWhen = true,\n  disableWhen = false,\n  iconSize = \"small\",\n  color=\"red\",\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <IconButton\n      onClick={action}\n      aria-label=\"play button\"\n      disabled={disableWhen}\n      {...rest}\n    >\n      <StopIcon fontSize={iconSize} htmlColor={color} />\n    </IconButton>\n  );\n};\n\nexport default StopButton;\n","import React from \"react\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport MuiSwitch from \"@material-ui/core/Switch\";\n\nconst Switch = ({ caption, onChange, ...rest }) => {\n  const handleChange = (event) => {\n    onChange(event.target.checked);\n  };\n\n  return (\n    <FormControlLabel\n      control={<MuiSwitch color=\"primary\" {...rest} onChange={handleChange} />}\n      label={caption}\n    />\n  );\n};\n\nexport default Switch;\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport produce from 'immer'\nimport _object from \"lodash/object\";\nimport { currencyFormat, formatNumber } from \"../lib/util\";\nimport { makeId } from \"../lib/util\";\n\nconst formatters = {\n  \"currency\": currencyFormat,\n  \"number\": formatNumber,\n}\n\nconst useStyles = makeStyles((theme) => ({\n  head: {\n    fontWeight: 'bold',\n    opacity: 0.8,\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2)\n  },\n  pagination: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  }\n}))\n\nconst getTableHeaders = (props, options) => {\n  const classes = useStyles()\n  const headers = React.Children.map(props.children, (child) => {\n    const { caption, expr, ...rest } = child.props\n    return (\n      <TableCell key={makeId()} className={classes.head} {...rest}>\n        {caption}\n      </TableCell>\n    )\n  })\n\n  if (options.singleSelect) {\n    headers.unshift(\n      <TableCell key={makeId()} padding='checkbox'>\n        <span>{\" \"}</span>\n      </TableCell>\n    )\n  } else if (options.multiSelect) {\n    const { numSelected, rowCount, onSelectAllClick } = options\n    headers.unshift(\n      <TableCell key={makeId()} padding='checkbox'>\n        <Checkbox\n          indeterminate={numSelected > 0 && numSelected < rowCount}\n          checked={rowCount > 0 && numSelected === rowCount}\n          onChange={onSelectAllClick}\n        />\n      </TableCell>\n    )\n  }\n\n  return headers\n}\n\nconst cloneChildren = (item, children) => {\n  return React.Children.map(children, (child) => {\n    const { action, children } = child.props\n    if (typeof action === 'function') {\n      const delegateFunc = (evt) => {\n        evt.stopPropagation()\n        action(item)\n      }\n      return React.cloneElement(child, { action: delegateFunc }, children)\n    } else if (children.length > 0) {\n      const subChildren = cloneChildren(item, children);\n      return React.cloneElement(child, {}, subChildren);\n    }\n    return child\n  })\n}\n\nconst getCellValue = ({item, expr, format, children}) => {\n  let cellValue;\n  if (expr) {\n    if (typeof expr === 'string') {\n      const formatter = formatters[format];\n      const value = _object.get(item, expr);\n      cellValue = formatter ? formatter(value) : value;\n    } else {\n      cellValue = expr(item).toString()\n    }\n  } else {\n    if (typeof(children) === \"function\") {\n      cellValue = children(item);\n    } else {\n      cellValue = cloneChildren(item, children)\n    }\n  }\n  return cellValue;\n}\n\nconst getTableBody = (props, selectedItems, options) => {\n  const { items = [], children } = props\n  const body = []\n  items.forEach((item) => {\n    const cells = React.Children.map(children, (child, idx) => {\n      const { caption, expr, format, children, ...rest } = child.props\n      const cellValue = getCellValue({item, expr, format, children});\n      const firstCellProps = idx === 0 ? { component: 'th', scope: 'row' } : {}\n      return (\n        <TableCell key={makeId()} {...firstCellProps} {...rest}>\n          {cellValue}\n        </TableCell>\n      )\n    })\n    if (options.multiSelect || options.singleSelect) {\n      const { keyId } = props;\n      const isItemSelected = selectedItems.findIndex(o => o[keyId] === item[keyId]) >= 0\n      cells.unshift(\n        <TableCell key={makeId()} padding='checkbox'>\n          <Checkbox checked={isItemSelected} />\n        </TableCell>\n      )\n      body.push(\n        <TableRow\n          hover\n          onClick={(event) => options.onSelectItem(event, item)}\n          role='checkbox'\n          tabIndex={-1}\n          key={makeId()}\n          selected={isItemSelected}\n        >\n          {cells}\n        </TableRow>\n      )\n    } else {\n      body.push(<TableRow key={makeId()}>{cells}</TableRow>)\n    }\n  })\n  return body\n}\n\nconst CustomTable = (props) => {\n  const {\n    items = [],\n    showPagination = true,\n    rowsPerPage: initialRowsPerPage = 5,\n    fetchList,\n    singleSelect = false,\n    multiSelect = false,\n    keyId,\n    onSelectItems,\n    ...rest\n  } = props\n\n  const [page, setPage] = useState(0)\n  const [rowsPerPage, setRowsPerPage] = useState(initialRowsPerPage)\n  const [selectedItems, setSelectedItems] = useState([])\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage)\n    setSelectedItems([])\n  }\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10))\n  }\n\n  useEffect(() => {\n    if (fetchList) {\n      fetchList({ start: page, limit: rowsPerPage });\n    }\n  }, [page, rowsPerPage])\n\n  const getLabelDisplayRows = (params) => {\n    const { from, to, count } = params\n    return `${from}-${to} of ${count !== -1 ? to : '?'}`\n  }\n\n  const onSelectAllClick = () => {\n    if (selectedItems.length === 0) {\n      setSelectedItems(items)\n    } else {\n      setSelectedItems([])\n    }\n  }\n\n  const onSelectItem = (event, item) => {\n    const idx = selectedItems.findIndex(o => o[keyId] === item[keyId]);\n    if (idx >= 0) {\n      setSelectedItems(\n        produce((prevItems) => prevItems.filter(o => o[keyId] !== item[keyId]))\n      )\n    } else {\n      if (multiSelect) {\n        setSelectedItems(selectedItems.concat(item));\n      } else {\n        //single select\n        setSelectedItems([item]);\n      }\n    }\n  }\n\n  // push to handler\n  useEffect(() => {\n    if (onSelectItems) {\n      onSelectItems(selectedItems);\n    }\n  }, [selectedItems])\n\n  const classes = useStyles()\n  const count =\n    items.length === rowsPerPage ? -1 : page * rowsPerPage + items.length\n  const recordCount = count === -1 ? rowsPerPage : items.length\n\n  const options = multiSelect || singleSelect\n    ? {\n        numSelected: selectedItems.length,\n        rowCount: recordCount,\n        multiSelect,\n        singleSelect,\n        onSelectAllClick,\n        onSelectItem\n      }\n    : {}\n\n  const header = getTableHeaders(props, options)\n  const body = getTableBody(props, selectedItems, options)\n\n  return (\n    <Paper className={classes.paper}>\n      <TableContainer>\n        <Table {...rest} size=\"small\">\n          <TableHead>\n            <TableRow>{header}</TableRow>\n          </TableHead>\n          <TableBody>{body}</TableBody>\n        </Table>\n      </TableContainer>\n      {showPagination && (\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component='div'\n          count={count}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onChangePage={handleChangePage}\n          onChangeRowsPerPage={handleChangeRowsPerPage}\n          labelDisplayedRows={getLabelDisplayRows}\n        />\n      )}\n    </Paper>\n  )\n}\n\nexport default CustomTable\n","import React from 'react'\n\nconst TableColumn = (props) => {\n  return <div>{props.children}</div>\n}\n\nexport default TableColumn\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { useContext, getFieldProps } from \"./DataContext\";\n\nconst Text = ({\n  label,\n  caption,\n  visibleWhen = true,\n  editable = true,\n  readOnly = false,\n  containerStyle,\n  textCase=\"UPPER\",\n  blur = false,\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  const ctx = useContext();\n  const fieldProps = getFieldProps(ctx, rest);\n\n  const inputProps = {};\n  if (readOnly || !editable) {\n    inputProps.readOnly = true;\n  }\n\n  const onChangeHandler = (e) => {\n    const {name, value} = e.target;\n    if (/upper/i.test(textCase)) {\n      fieldProps.onChange({target: {name, value: value.toUpperCase()}})\n    } else {\n      fieldProps.onChange(e);\n    }\n  }\n\n  const blurStyle = blur === true ? styles.blur : {}\n\n  return (\n    <div style={{ ...styles.root, ...containerStyle }}>\n      <TextField\n        label={caption || label}\n        fullWidth\n        inputProps={inputProps}\n        autoComplete=\"off\"\n        helperText={rest.error}\n        size=\"small\"\n        {...rest}\n        {...fieldProps}\n        style={{...blurStyle}}\n        onChange={onChangeHandler}\n      />\n    </div>\n  );\n};\n\nconst styles = {\n  root: {\n    width: \"100%\",\n    marginBottom: 3,\n  },\n  blur: {\n    filter: \"blur(3px)\",\n    \"-webkit\": \"blur(3px)\",\n  }\n};\n\nexport default Text;\n","import React from 'react'\nimport { Box } from '@material-ui/core'\n\nconst Title = ({ caption, exprValue, children, ...rest }) => {\n  return (\n    <Box fontSize='1.7em' fontWeight='bold' {...rest}>\n      {caption || exprValue || children}\n    </Box>\n  )\n}\n\nexport default Title\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Error from \"./Error\";\nimport axios from \"axios\";\nimport styles from \"./UploadButton.css\";\nimport Loading from \"./Loading\";\n\nconst UploadButton = ({\n  onUpload,\n  fileId,\n  caption = \"Upload\",\n  color = \"secondary\",\n  visibleWhen = true,\n  multiple = false,\n  url = \"/filipizen/attachment/upload\"\n}) => {\n  if (!visibleWhen) return null;\n\n  const [error, setError] = useState();\n  const [file, setFile] = useState(\"\");\n  const [progress, setProgess] = useState(0);\n  const [uploading, setUploading] = useState(false);\n\n  const handleFileChange = (e) => {\n    setProgess(0);\n    const file = e.target.files[0];\n    setFile(file);\n    if (file) uploadFile(file);\n  };\n\n  const uploadFile = (file) => {\n    setError(null);\n    setUploading(true);\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"key\", fileId);\n    axios\n      .post(url, formData, {\n        onUploadProgress: (ProgressEvent) => {\n          let progress = Math.round(\n            (ProgressEvent.loaded / ProgressEvent.total) * 100\n          );\n          setProgess(progress);\n        }\n      })\n      .then((res) => {\n        const attachment = {\n          name: res.data.name,\n          key: res.data.key,\n          location: res.data.location\n        };\n        onUpload(attachment);\n        setUploading(false);\n      })\n      .catch((err) => {\n        setError(err);\n        setUploading(false);\n      });\n  };\n\n  return (\n    <div className={styles.UploadButton}>\n      <div className={styles.UploadButton__menu}>\n        {uploading ? (\n          <Loading msg=\"Uploading file...\" />\n        ) : (\n          <React.Fragment>\n            <input\n              className={styles.UploadButton__input}\n              id={fileId}\n              type=\"file\"\n              onChange={handleFileChange}\n              multiple={multiple}\n            />\n            <label htmlFor={fileId}>\n              <Button variant=\"outlined\" component=\"span\" color={color}>\n                {caption || \"Upload\"}\n              </Button>\n            </label>\n          </React.Fragment>\n        )}\n        {progress != 0 && progress != 100 && (\n          <div\n            className={styles.UploadButton__progress}\n            style={{ width: progress }}\n          >\n            {progress}%\n          </div>\n        )}\n        <Error msg={error} />\n      </div>\n    </div>\n  );\n};\n\nexport default UploadButton;\n","import React from \"react\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ViewIcon from '@material-ui/icons/Pageview';\n\nconst ViewButton = ({\n  action,\n  visibleWhen = true,\n  disableWhen = false,\n  ...rest\n}) => {\n  if (!visibleWhen) return null;\n\n  return (\n    <IconButton\n      onClick={action}\n      aria-label=\"view\"\n      disabled={disableWhen}\n      {...rest}\n    >\n      <ViewIcon style={{color: \"green\", ...rest.iconStyle}} />\n    </IconButton>\n  );\n};\n\nexport default ViewButton;\n","import io from \"socket.io-client\";\n\nconst CHANNEL = \"/gdx\";\n\nconst isRemote = (serviceName) => {\n  return serviceName.indexOf(\":\") > 0;\n};\n\n/*========================================================\n*\n* SYNC CALL SUPPORT\n*\n========================================================*/\nconst findLocalService = ({ serviceName, connection, module, debug }) => {\n  return LocalProxy(serviceName, connection, module);\n};\n\nconst findRemoteService = (name, connection, module) => {\n  const idx = name.indexOf(\":\");\n  const channel = name.substring(0, idx);\n  const serviceName = name.substring(idx + 1);\n  return RemoteProxy(serviceName, channel, connection, module);\n};\n\nconst LocalProxy = (name, connection, module) => {\n  const invoke = (action, args, handler, ...rest) => {\n    const data = {\n      service: { module, connection, name, action },\n      args: args ? [args] : null\n    };\n\n    const urlaction = \"/filipizen/service/invoke\";\n\n    fetch(urlaction, {\n      method: \"POST\",\n      cache: \"no-cache\",\n      mode: \"cors\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n      .then((res) => {\n        return res.json()\n      })\n      .then((data) => {\n        if (data.error) {\n          handler(data.error, null)\n        } else {\n          if (!Array.isArray(data) && Object.keys(data).length === 0) {\n            //treat EMPTY data as null (from server)\n            handler(null, null)\n          } if (!Array.isArray(data) && data.status === \"ERROR\") {\n            handler(data.msg, null);\n          } else {\n            handler(null, data)\n          }\n        }\n      })\n      .catch((err) => handler(err.toString(), null));\n  };\n  return { invoke };\n};\n\nconst RemoteProxy = (name, channel, connection, module) => {\n  const socket = io(CHANNEL);\n  socket.connect();\n\n  const asyncFetch = async (method, args) => {\n    const promise = new Promise((resolve, reject) => {\n      const params = {\n        service: name,\n        method: method,\n        channel: channel,\n        connection: connection,\n        module: module,\n        args: args\n      };\n      socket.emit(\"invoke\", params, (res) => {\n        if (res.status === \"OK\") {\n          resolve(res.data);\n        } else {\n          reject(res.msg);\n        }\n      });\n      socket.on(\"disconnect\", () => {\n        console.log(\"AsyncFetch disconnted\")\n      });\n    });\n    return await promise;\n  };\n\n  const invoke = (method, args, handler) => {\n    asyncFetch(method, args)\n      .then(data => handler(null, data))\n      .catch(err => {\n        if (/syntax/i.test(err)) {\n          handler(\"Partner is currently not avaible. Please try again later.\", null);\n        } else {\n          handler(err, null);\n        }\n      });\n  };\n\n  return { invoke };\n};\n\n\n\n/*========================================================\n*\n* ASYNC CALL SUPPORT\n*\n========================================================*/\nconst AsyncRemoteProxy = (name, channel, connection, module) => {\n  const socket = io(CHANNEL);\n  socket.connect();\n\n  const invoke = async (method, args, handler) => {\n    const promise = new Promise((resolve, reject) => {\n      const params = {\n        service: name,\n        method: method,\n        connection: connection,\n        module: module,\n        channel: channel,\n        args: args\n      };\n      // console.log(\n      //   `AsyncRemoteProxy [invoke] ${params.service}.${params.method} channel: ${params.channel} connection: ${connection} module: ${module}`\n      // );\n      socket.emit(\"invoke\", params, (res) => {\n        if (res.status === \"OK\") {\n          if (handler) {\n            handler(false, res.data);\n          }\n          resolve(res.data);\n        } else {\n          if (handler) {\n            handler(res.msg);\n          }\n          reject(res.msg);\n        }\n      });\n    });\n    return await promise;\n  };\n  return { invoke };\n};\n\nconst findAsyncRemoteService = (name, connection, module) => {\n  const idx = name.indexOf(\":\");\n  const channel = name.substring(0, idx);\n  const serviceName = name.substring(idx + 1);\n  return AsyncRemoteProxy(serviceName, channel, connection, module);\n};\n\n\nconst AsyncLocalProxy = (name, connection, module) => {\n  const invoke = async (action, args,) => {\n    const data = {\n      service: { module, connection, name, action },\n      args: args ? [args] : null,\n    };\n\n    const urlaction = \"/filipizen/service/invoke\";\n\n    const res = await fetch(urlaction, {\n      method: \"POST\",\n      cache: \"no-cache\",\n      mode: \"cors\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n\n    if (res.status !== 200) {\n      throw res.statusText;\n    }\n    return await res.json();\n  };\n  return { invoke };\n};\n\nconst findAsyncLocalService = ({\n  serviceName,\n  connection,\n  module\n}) => {\n  return AsyncLocalProxy(serviceName, connection, module);\n};\n\nconst serviceCache = {};\n\nconst Service = {}\n\nService.lookup = function(\n  serviceName,\n  connection = \"default\",\n  module,\n  options = { debug: false }\n) {\n  if (serviceCache[serviceName] == null) {\n    let svc;\n    if (isRemote(serviceName)) {\n      svc = findRemoteService(serviceName, connection, module);\n    } else {\n      svc = findLocalService({\n        serviceName,\n        connection,\n        module,\n        ...options\n      });\n    }\n    serviceCache[serviceName] = svc;\n  }\n  return serviceCache[serviceName];\n};\n\nService.lookupAsync = function(\n  serviceName,\n  connection = \"default\",\n  module,\n  options = { debug: false }\n) {\n  const serviceKeyName = `Async${serviceName}`;\n  if (serviceCache[serviceKeyName] == null) {\n    let svc;\n    if (isRemote(serviceName)) {\n      svc = findAsyncRemoteService(serviceName, connection, module);\n    } else {\n      svc = findAsyncLocalService({\n        serviceName,\n        connection,\n        module,\n        ...options\n      });\n    }\n    serviceCache[serviceKeyName] = svc;\n  }\n  return serviceCache[serviceKeyName];\n};\n\nexport const getNotification = () => {\n  const nsps = { \"/gdx\": [] };\n\n  const register = (event, handler, nsp = \"/gdx\") => {\n    const socket = io(nsp);\n    socket.on(event, (data) => {\n      handler(data);\n    });\n\n    const sockets = nsps[nsp];\n    if (sockets === undefined) {\n      nsps[nsp] = [socket];\n    } else {\n      nsps[nsp].push(socket);\n    }\n    return socket;\n  };\n  return { register };\n};\n\nexport default Service;\n","import React, { createContext, useContext } from \"react\";\nimport { useImmerReducer } from \"use-immer\";\n\n// this is the data (entity)\nconst StateContext = createContext();\nconst StateDispatchContext = createContext();\n\n// build a provider\nconst StateProvider = ({ reducer, initialState, children }) => {\n    const [state, dispatch] = useImmerReducer(reducer, initialState);\n    return (\n        <StateContext.Provider value={state}>\n            <StateDispatchContext.Provider value={dispatch}>\n            {children}\n            </StateDispatchContext.Provider>\n        </StateContext.Provider>\n    );\n}\n\nconst useStateValue = () => {\n    const context = useContext(StateContext)\n    if (context === undefined) {\n      throw new Error('useStateValue must be used within a StateProvider')\n    }\n    return context\n  }\n\nconst useStateDispatch = () => {\n    const context = useContext(StateDispatchContext)\n    if (context === undefined) {\n        throw new Error('useStateDispatch must be used within a StateProvider')\n    }\n    return context\n}\n\nconst useData = () => {\n    return [useStateValue(), useStateDispatch()];\n}\n\nexport {\n    StateProvider,\n    useData,\n}\n"],"names":["useStyles","makeStyles","theme","container","display","flexWrap","justifyContent","alignItems","marginTop","borderTop","center","flexDirection","ActionBar","children","disabled","visibleWhen","rest","classes","classNames","undefined","React","Children","map","child","cloneElement","root","backgroundColor","padding","menuButton","marginRight","spacing","toolBar","paddingLeft","AppBar","props","style","Avatar","src","button","textTransform","Button","label","caption","action","loading","disableWhen","MuiButton","margin","CircularProgress","BackLink","ButtonLink","href","target","Icon","paddingRight","title","Card","MuiCard","CardContent","MuiCardContent","CardActions","MuiCardActions","DataContext","createContext","useDataContext","context","handler","handleChange","evt","isBooleanValue","isBoolean","name","resolvedValue","checked","value","updatedValues","produce","draft","_object","set","getContextValue","expr","defaultValue","get","getFieldProps","ctx","id","onChange","useContext","Checkbox","editable","readOnly","text","fieldProps","MuiCheckbox","formControl","Combobox","required","items","Select","item","itemText","toString","color","helperText","styles","getStyle","localStyle","width","centerStyle","Content","isVisible","isEditable","isHidden","isDisabled","formatNumber","num","replace","currencyFormat","val","Number","toFixed","groupBy","list","key","reduce","rv","push","getUrlParameter","location","params","URLSearchParams","search","getDuration","from","to","unit","start","dayjs","Date","end","diff","integerRangeToArray","range","i","getCurrentYear","currDate","getFullYear","padLeft","str","len","padChar","padStart","dateAdd","duration","add","toISOString","formatDate","dt","pattern","format","isDateBefore","refDate","isBefore","isDateAfter","isAfter","randomInt","Math","floor","random","hasErrors","errors","Object","keys","length","makeId","result","characters","charactersLength","charAt","CustomDate","autoOk","variant","size","restFieldProps","localValue","setLocalValue","useState","useEffect","convertedValue","indexOf","split","changeHandler","test","sdt","toLocaleDateString","tokens","DateFnsUtils","NumberFormatCustom","inputRef","other","values","Decimal","textAlign","inputComponent","DeleteButton","iconSize","DownloadReport","CloudDownloadIcon","EditButton","Email","onChangeHandler","e","toLowerCase","MuiTextField","Label","exprValue","blur","_","blurStyle","wrapper","captionStyle","labelStyle","paddingTop","paddingBottom","fontWeight","fontSize","filter","Error","msg","position","left","bottom","Footer","MuiBox","getUserStyle","row","Panel","userStyle","panel","FormPanel","dataCtx","Group","flexGrow","Header","Image","thousandSeparator","NumberFormatCustom2","Integer","Item","LinearProgress","MuiCircularProgress","Link","MuiLink","LinkIcon","astyle","PageViewIcon","getNewChildProps","newProps","buildChildren","newChildren","forEach","idx","childrenList","newChild","List","Loading","showMessage","progress","marginBottom","withoutLabel","textField","Lookup","containerStyle","onSelect","query","setQuery","searchFieldTitle","searchField","hideSearchText","enableSelect","searchText","setSearchText","open","setOpen","openLookupPage","updatedQuery","onCancel","onAccept","pass","TextField","endAdornment","Mask","ReactMaskedInput","ref","inputElement","padLength","MaskedInput","mask","placeholderChar","showMask","autoFocus","onBlur","unmaskedValue","RegExp","msk","newValue","trim","Modal","showActions","MobilenoMask","Mobileno","MsgBox","type","acceptCaption","getChildren","comps","header","right","footer","Page","template","content","aside","aside_left","main","aside_right","Password","PlayButton","PreviewButton","PreviewReport","PageviewIcon","ProgressButton","PhoneNoMask","PhoneNo","CustomItem","Control","customItemContainer","objid","Radio","border","setAppElement","ReportViewer","onClose","afterOpen","setHref","onSelectItem","viewerContainer","itemContainer","itemTitle","viewer","frame","flex","height","cursor","Spacer","spacer","selectEmpty","renderValue","MuiSelect","Subtitle","Subtitle2","opacity","selectedStep","Stepper","orientation","userOrientation","completedStep","handleStep","steps","activeStep","actualStep","step","index","stepProps","labelProps","selectedStepStyle","completed","stepItems","StopButton","Switch","event","formatters","head","paper","pagination","getTableHeaders","options","headers","singleSelect","unshift","multiSelect","numSelected","rowCount","onSelectAllClick","cloneChildren","delegateFunc","stopPropagation","subChildren","getCellValue","cellValue","formatter","getTableBody","selectedItems","body","cells","firstCellProps","component","scope","keyId","isItemSelected","findIndex","o","CustomTable","showPagination","rowsPerPage","initialRowsPerPage","fetchList","onSelectItems","page","setPage","setRowsPerPage","setSelectedItems","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","limit","getLabelDisplayRows","count","prevItems","concat","recordCount","TableColumn","Text","textCase","inputProps","toUpperCase","error","Title","UploadButton","onUpload","fileId","multiple","url","setError","file","setFile","setProgess","uploading","setUploading","handleFileChange","files","uploadFile","formData","FormData","append","axios","post","onUploadProgress","ProgressEvent","round","loaded","total","then","res","attachment","data","catch","err","UploadButton__menu","UploadButton__input","UploadButton__progress","ViewButton","ViewIcon","iconStyle","CHANNEL","isRemote","serviceName","findLocalService","connection","module","debug","LocalProxy","findRemoteService","channel","substring","RemoteProxy","invoke","args","service","urlaction","fetch","method","cache","mode","credentials","JSON","stringify","json","Array","isArray","status","socket","io","connect","asyncFetch","promise","Promise","resolve","reject","emit","on","console","log","AsyncRemoteProxy","findAsyncRemoteService","AsyncLocalProxy","statusText","findAsyncLocalService","serviceCache","Service","lookup","svc","lookupAsync","serviceKeyName","getNotification","nsps","register","nsp","sockets","StateContext","StateDispatchContext","StateProvider","reducer","initialState","state","dispatch","useImmerReducer","useStateValue","useStateDispatch","useData"],"mappings":"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"}